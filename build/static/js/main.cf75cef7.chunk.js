(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,a,t){e.exports=t(174)},111:function(e,a,t){},167:function(e,a){},170:function(e,a,t){},174:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),i=t.n(l),o=(t(111),t(10)),s=t(98),c=t(203),u=t(205),d=t(206),m=t(208),g=t(92),p=t.n(g),h=t(51),f=t.n(h),E=t(213),v=t(18),w=t.n(v),b=Object(c.a)(function(e){return{root:{width:"100%",height:"320px"},list:{backgroundColor:e.palette.background.paper,paddingLeft:20},margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},iconButton:{padding:10},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}});var x=function(e){var a=r.a.useState({username:"",password:""}),t=Object(o.a)(a,2),n=t[0],l=t[1],i=b();return r.a.createElement(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:i.root},r.a.createElement("div",{style:{textAlign:"center",padding:"30px 0px 0px 0px"}}," LOGIN "),r.a.createElement("form",{style:{margin:"50px 61px"}},r.a.createElement(E.a,{id:"outlined-with-username",name:"username",label:"Username",placeholder:"Username",className:i.textField,margin:"normal",variant:"outlined",style:{width:"300px"},value:n.username,onChange:function(e){return function(e){var a={username:e,password:n.password};l(a)}(e.target.value)}}),r.a.createElement(E.a,{id:"outlined-with-password",name:"password",type:"password",label:"Password",placeholder:"Password",className:i.textField,margin:"normal",variant:"outlined",style:{width:"300px"},value:n.password,onChange:function(e){return function(e){var a={username:n.username,password:e};l(a)}(e.target.value)}}))),r.a.createElement("div",{style:{margin:"0px 37px"}},r.a.createElement(m.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",onClick:function(){e.togglePage(2)},style:{width:"138px"}},r.a.createElement(f.a,null),"Register"),r.a.createElement(m.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",className:i.margin,style:{width:"138px"},onClick:function(){""!==n.username&&""!==n.password?w.a.post("/user/login",{username:n.username,password:n.password}).then(function(a){e.handleLogin(a.data)}).catch(function(e){console.log(e)}).finally(function(){}):console.log("type something")}},r.a.createElement(p.a,{className:i.extendedIcon}),"Log in")))))},y=Object(c.a)(function(e){return{root:{width:"100%",height:"374px"},list:{backgroundColor:e.palette.background.paper,paddingLeft:20},margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},iconButton:{padding:10}}});function j(e){var a=y(),t=r.a.useState({username:"",password:""}),n=Object(o.a)(t,2),l=n[0],i=n[1],s=r.a.useState(""),c=Object(o.a)(s,2),g=c[0],p=c[1],h=r.a.useState(!1),v=Object(o.a)(h,2),b=v[0],x=v[1];return r.a.createElement(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:a.root},r.a.createElement("div",{style:{textAlign:"center",padding:"30px 0px 0px 0px"}}," Register "),r.a.createElement("form",{style:{margin:"50px 61px"}},r.a.createElement(E.a,{id:"outlined-with-username",name:"username",label:"Username",placeholder:"Username",className:a.textField,margin:"normal",variant:"outlined",style:{width:"300px"},value:l.username,onChange:function(e){return function(e){var a={username:e,password:l.password};i(a)}(e.target.value)}}),r.a.createElement(E.a,{id:"outlined-with-password",name:"password",type:"password",label:"Password",placeholder:"Password",className:a.textField,margin:"normal",variant:"outlined",style:{width:"300px"},value:l.password,onChange:function(e){return function(e){var a={username:l.username,password:e};i(a)}(e.target.value)}}),r.a.createElement(E.a,{id:"outlined-with-re-password",name:"rePass",type:"password",label:"Re-Password",placeholder:"Retype Password",className:a.textField,margin:"normal",variant:"outlined",style:{width:"300px"},value:g,onChange:function(e){return a=e.target.value,void p(a);var a}}))),r.a.createElement("div",{style:{margin:"0px 37px"}},r.a.createElement(m.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",style:{width:"110px"},onClick:function(){e.togglePage(1)}},r.a.createElement(f.a,null),"Login"),r.a.createElement(m.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",className:a.margin,style:{width:"158px"},onClick:function(){""!==l.username&&""!==l.password?l.password!==g?console.log("password is not same"):(x(!0),w.a.post("/user/register",{username:l.username,password:l.password}).then(function(a){e.handleRegister(a.data)}).catch(function(e){console.log(e),x(!1)}).finally(function(){})):console.log("type something")},disabled:b},b?"Please wait":"Register")))))}var O=function(e){var a=r.a.useState(1),t=Object(o.a)(a,2),n=t[0],l=t[1];function i(a){e.handleAuth(a)}function s(e){l(e)}return r.a.createElement(r.a.Fragment,null,2===n?r.a.createElement(j,{handleRegister:i,togglePage:s}):r.a.createElement(x,{handleLogin:i,togglePage:s}))},N=t(207),k=t(210),I=t(216),C=t(211),S=t(212),L=t(95),A=t.n(L),F=t(214),P=t(209),R=t(93),D=t.n(R),B=t(94),W=t.n(B),z=Object(c.a)(function(e){return{root:{width:"98%"},list:{backgroundColor:e.palette.background.paper,paddingLeft:20},margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},search:{padding:"2px 4px",display:"flex",alignItems:"center",width:"94%"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}});function M(e){var a=z(),t=r.a.useState([]),n=Object(o.a)(t,2),l=n[0],i=n[1],s=r.a.useState(),c=Object(o.a)(s,2),u=c[0],g=c[1];r.a.useEffect(function(){w.a.post("/user/all",{user_id:e.userAuthDetails.user.id}).then(function(e){i(e.data)}).catch(function(e){console.log(e)})},[e.userAuthDetails]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:a.root},r.a.createElement("div",{className:a.search},r.a.createElement(F.a,{className:a.input,placeholder:"Search Members",inputProps:{"aria-label":"search people"}}),r.a.createElement(P.a,{className:a.iconButton,"aria-label":"search"},r.a.createElement(D.a,null))),r.a.createElement(N.a,{dense:!0,className:a.list,style:{height:"70vh",maxHeight:"70vh",overflow:"auto"}},l.map(function(a,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(k.a,{button:!0,selected:u===t,onClick:function(n){return r=t,l=a._id,g(r),void e.changeClient(l);var r,l}},r.a.createElement(C.a,null,r.a.createElement(W.a,null)),r.a.createElement(I.a,{primary:a.username})),r.a.createElement(S.a,null))}))),r.a.createElement(m.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",className:a.margin,style:{width:"300px"},onClick:function(){e.handleLogout()}},r.a.createElement(A.a,{className:a.extendedIcon}),"Log out"))}var _=t(96),H=t.n(_),T=t(52),U=t.n(T),J=Object(c.a)(function(e){return{root:{width:"100%",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}});function G(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),l=t[0],i=t[1],s=Object(n.useState)(),c=Object(o.a)(s,2),u=c[0],m=c[1],g=Object(n.useState)(!0),p=Object(o.a)(g,2),h=p[0],f=p[1],E=J();function v(){if(""!==l&&void 0!==u){var a={user_id:e.userId,to:u,message:l};U()().emit("status_added",l),w.a.post("/message/new",a).then(function(e){console.log(e.data)}).catch(function(e){console.log(e)}),i("")}}return r.a.useEffect(function(){void 0!==e.clientId&&(f(!1),m(e.clientId))},[e.clientId]),r.a.createElement(d.a,{className:E.root},r.a.createElement(F.a,{className:E.input,name:"msg",placeholder:"Type Message",inputProps:{"aria-label":"Type Message"},value:l,onChange:function(e){return a=e.target.value,void i(a);var a},onKeyPress:function(e){return function(e){e.persist(),13!==e.keyCode&&13!==e.which||""!==l&&(v(),i(""))}(e)},disabled:h}),r.a.createElement(S.a,{className:E.divider,orientation:"vertical"}),r.a.createElement(P.a,{onClick:v,color:"primary",className:E.iconButton,"aria-label":"directions"},r.a.createElement(H.a,null)))}var K=t(99),$=Object(c.a)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},inline:{display:"inline"},card:{maxWidth:"80%",padding:"7px"},title:{fontSize:14},msgWarning:{height:"90%",display:"flex",alignItems:"center",justifyContent:"center"},msg:{fontSize:"0.7em",textAlign:"left",border:"1px solid #f9f9f9",borderRadius:"5px",padding:"1.5em",margin:"0.3em",position:"relative",wordWrap:"break-word",maxHeight:"100px",whiteSpace:"pre-wrap"},roomMsg:{backgroundColor:"#fff"},myMsg:{backgroundColor:"rgba(0, 0, 0, 0.12)"}}});function q(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),l=t[0],i=t[1],s=$(),c=Object(n.useState)(!0),u=Object(o.a)(c,2),d=u[0],m=u[1],g=Object(n.useState)(""),p=Object(o.a)(g,2),h=p[0],f=p[1],E=r.a.useRef(null);return Object(n.useEffect)(function(){""!==h&&U()("https://boiling-everglades-56328.herokuapp.com").on(h,function(e){return i(function(a){return[].concat(Object(K.a)(a),[e])})})},[h]),Object(n.useEffect)(function(){void 0!==e.chat&&(m(!1),i(e.chat.messages),0!==e.chat.count&&f(e.chat.messages[0].channel_id))},[e.chat]),Object(n.useEffect)(function(){E.current.scrollTop=E.current.scrollHeight},[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:E,style:{backgroundColor:"#cfe8fc",height:"80vh",maxHeight:"80vh",overflow:"auto"}},d?r.a.createElement("p",{className:s.msgWarning}," Select one user "):r.a.createElement(r.a.Fragment,null,0===e.chat.count?r.a.createElement("p",{className:s.msgWarning}," No messages yet. "):r.a.createElement(r.a.Fragment,null,l.map(function(a,t){return r.a.createElement(r.a.Fragment,{key:t},a.from!==e.userId?r.a.createElement("div",{className:"".concat(s.msg," ").concat(s.roomMsg),style:{width:"80%",float:"left"}},a.message):r.a.createElement("div",{className:"".concat(s.msg," ").concat(s.myMsg),style:{width:"80%",float:"right"}},a.message))})))))}function Q(e){var a=Object(n.useState)(),t=Object(o.a)(a,2),l=t[0],i=t[1];return r.a.useEffect(function(){void 0!==e.clientId&&w.a.post("/message/all",{user_id:e.userAuthDetails.user.id,to:e.clientId}).then(function(e){i(e.data)}).catch(function(e){console.log(e)})},[e.clientId,e.userAuthDetails.user.id]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{paddingRight:"50px"}},r.a.createElement(q,{userId:e.userAuthDetails.user.id,chat:l}),r.a.createElement(G,{userId:e.userAuthDetails.user.id,clientId:e.clientId})))}var V=Object(c.a)(function(e){return{root:{paddingLeft:110,paddingRight:110}}});var X=function(e){var a=r.a.useState(),t=Object(o.a)(a,2),n=t[0],l=t[1],i=V();return r.a.useEffect(function(){},[]),r.a.createElement("div",{className:i.root},r.a.createElement(u.a,{container:!0,spacing:0},r.a.createElement(u.a,{item:!0,xs:4},r.a.createElement(M,{userAuthDetails:e.userAuthDetails,changeClient:function(e){l(e)},handleLogout:function(){e.handleLogout()}})),r.a.createElement(u.a,{item:!0,xs:8},r.a.createElement(Q,{userAuthDetails:e.userAuthDetails,clientId:n}))))},Y=(t(170),Object(c.a)(function(e){return{root:{paddingTop:50}}}));var Z=function(){var e=Y(),a=r.a.useState(!1),t=Object(o.a)(a,2),n=t[0],l=t[1],i=r.a.useState(Object),c=Object(o.a)(i,2),u=c[0],d=c[1];return r.a.createElement(s.a,null,r.a.createElement("div",{className:e.root},n?r.a.createElement(X,{userAuthDetails:u,handleLogout:function(){d(null),l(!1),console.log(n)}}):r.a.createElement(O,{handleAuth:function(e){d(e),l(!0)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,1,2]]]);
//# sourceMappingURL=main.cf75cef7.chunk.js.map